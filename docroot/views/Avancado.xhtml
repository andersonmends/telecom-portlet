<?xml version="1.0"?>
<f:view
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<h:head>
		<style>
.semBorda tr, .semBorda td {
	border: none !important;
	background: none !important;
}

.larguraInput {
	width: 147px
}

.ui-datatable, .ui-inputText {
	font-size: 10px !important;
}
</style>


	</h:head>

	<h:body>
		<h:form>

			<p:growl
				id="messages"
				autoUpdate="true"
				life="2000" />
			<p:panelGrid
				id="pgridLog"
				columns="4"
				styleClass="semBorda"
				style="width:825px; margin-left: 75px">

				<h:outputText value="Fone" />
				<p:inputMask
					value="#{logBean.fone}"
					styleClass="larguraInput"
					validatorMessage="Fone deve ser preenchido com 10 números"
					mask="9999999999">
					<f:validateRegex pattern="[0-9]{10,10}" />

				</p:inputMask>

				<h:outputText value="Usuário" />
				<p:inputText
					value="#{logBean.usuario}"
					styleClass="larguraInput" />

				<h:outputText value="Data Início" />
				<p:calendar value="#{logBean.dataInicio}" />

				<h:outputText value="Data Final" />
				<p:calendar value="#{logBean.dataFim}" />


			</p:panelGrid>

			<br />


			<p:panelGrid
				columns="2"
				style="margin-left:680px"
				styleClass="semBorda">

				<p:commandButton
					value="Consultar"
					actionListener="#{logBean.consultarLog}"
					update="pgridLog dtLog" />
			</p:panelGrid>

			<br />

		<p:dataTable
				var="log"
				value="#{logBean.listLog}"
				scrollable="true"
				scrollWidth="1000"
				id="dtLog">

				<p:column
					width="55"
					headerText="Modificação">
					<h:outputText value="Antes" />
					<br />
					<h:outputText value="Depois" />
				</p:column>

				<p:column
					width="100"
					headerText="Data">
					<h:outputText value="#{log.data}" />
					<br />
					<h:outputText value="#{log.data}" />
				</p:column>

				<p:column
					width="55"
					headerText="Ramal">

					<h:outputText value="#{log.foneRamal}" />
					<br />
					<h:outputText value="#{log.foneRamal}" />
				</p:column>

				<p:column
					width="50"
					headerText="Usuário">

					<h:outputText value="#{log.usuario}" />
					<br />
					<h:outputText value="#{log.usuario}" />
				</p:column>

				<p:column
					width="25"
					headerText="Cat. D">

					<h:outputText value="#{log.categoriaDiurnaOld}" />
					<br />
					<h:outputText value="#{log.categoriaDiurnaNew}" />

				</p:column>
				
				<p:column
					width="25"
					headerText="Cat. N">

					<h:outputText value="#{log.categoriaNoturnaOld}" />
					<br />
					<h:outputText value="#{log.categoriaNoturnaNew}" />

				</p:column>

				<p:column
					width="50"
					headerText="T. Ramal">

					<h:outputText value="#{log.tipoDeRamalOld}" />
					<br />
					<h:outputText value="#{log.tipoDeRamalNew}" />

				</p:column>

				<p:column
					width="50"
					headerText="Divulgação">

					<h:outputText value="#{log.divulgacaoOld}" />
					<br />
					<h:outputText value="#{log.divulgacaoNew}" />

				</p:column>
				
				<p:column
					width="60"
					headerText="Nomenclatura">

					<h:outputText value="#{log.nomenclaturaOld}" />
					<br />
					<h:outputText value="#{log.nomenclaturaNew}" />

				</p:column>

				<p:column
					width="70"
					headerText="Compartilhado">

					<h:outputText value="#{log.compartilhadoComOld}" />
					<br />
					<h:outputText value="#{log.compartilhadoComNew}" />

				</p:column>

				<p:column
					width="228"
					headerText="Observações">

					<h:outputText value="#{log.observacoesOld}" />
					<br />
					<h:outputText value="#{log.observacoesNew}" />

				</p:column>



			</p:dataTable>

			<br />

			<p:panelGrid
				columns="2"
				styleClass="semBorda">

				<h:commandLink>
					<p:graphicImage value="/icons/pdf-icon.png" />
					<p:dataExporter
						type="pdf"
						target="dtLog"
						fileName="mypdf" />
				</h:commandLink>

				<h:commandLink>
					<p:graphicImage value="/icons/excel-icon.png" />
					<p:dataExporter
						type="pdf"
						target="dtLog"
						fileName="myexcel" />
				</h:commandLink>

			</p:panelGrid>
		</h:form>
	</h:body>
</f:view>




